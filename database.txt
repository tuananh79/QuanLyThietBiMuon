USE [master]
GO
/****** Object:  Database [QLMTB]    Script Date: 4/30/2021 7:55:08 PM ******/
CREATE DATABASE [QLMTB]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'QLMTB', FILENAME = N'D:\Program\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\QLMTB.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'QLMTB_log', FILENAME = N'D:\Program\Microsoft SQL Server\MSSQL15.MSSQLSERVER\MSSQL\DATA\QLMTB_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
 WITH CATALOG_COLLATION = DATABASE_DEFAULT
GO
ALTER DATABASE [QLMTB] SET COMPATIBILITY_LEVEL = 150
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [QLMTB].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [QLMTB] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [QLMTB] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [QLMTB] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [QLMTB] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [QLMTB] SET ARITHABORT OFF 
GO
ALTER DATABASE [QLMTB] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [QLMTB] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [QLMTB] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [QLMTB] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [QLMTB] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [QLMTB] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [QLMTB] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [QLMTB] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [QLMTB] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [QLMTB] SET  DISABLE_BROKER 
GO
ALTER DATABASE [QLMTB] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [QLMTB] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [QLMTB] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [QLMTB] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [QLMTB] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [QLMTB] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [QLMTB] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [QLMTB] SET RECOVERY FULL 
GO
ALTER DATABASE [QLMTB] SET  MULTI_USER 
GO
ALTER DATABASE [QLMTB] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [QLMTB] SET DB_CHAINING OFF 
GO
ALTER DATABASE [QLMTB] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [QLMTB] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [QLMTB] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [QLMTB] SET ACCELERATED_DATABASE_RECOVERY = OFF  
GO
EXEC sys.sp_db_vardecimal_storage_format N'QLMTB', N'ON'
GO
ALTER DATABASE [QLMTB] SET QUERY_STORE = OFF
GO
USE [QLMTB]
GO
/****** Object:  Table [dbo].[CHITIETMUON]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHITIETMUON](
	[MAMUON] [int] NOT NULL,
	[MATB] [varchar](10) NOT NULL,
	[TRANGTHAIMUONCT] [nvarchar](150) NOT NULL,
 CONSTRAINT [PK_CHITIETMUON] PRIMARY KEY CLUSTERED 
(
	[MAMUON] ASC,
	[MATB] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[CHITIETTRA]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHITIETTRA](
	[MATRA] [int] NOT NULL,
	[MATB] [varchar](10) NOT NULL,
	[NGAYGIOTRA] [smalldatetime] NOT NULL,
	[TINHTRANGTB] [nvarchar](100) NOT NULL,
	[MASV] [varchar](10) NOT NULL,
	[MANV] [varchar](10) NULL,
 CONSTRAINT [PK_CHITIETTRA] PRIMARY KEY CLUSTERED 
(
	[MATRA] ASC,
	[MATB] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[LOAITB]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LOAITB](
	[MALOAI] [varchar](10) NOT NULL,
	[TENLOAI] [nvarchar](150) NOT NULL,
 CONSTRAINT [PK_LOAITB] PRIMARY KEY CLUSTERED 
(
	[MALOAI] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[LOAITK]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LOAITK](
	[MALOAITK] [varchar](10) NOT NULL,
	[TENLOAITK] [nvarchar](100) NULL,
 CONSTRAINT [PK_LOAITK] PRIMARY KEY CLUSTERED 
(
	[MALOAITK] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MUONTB]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MUONTB](
	[MAMUON] [int] NOT NULL,
	[MASV] [varchar](10) NOT NULL,
	[NGAYGIOMUON] [smalldatetime] NOT NULL,
	[NGAYGIODUDINHTRA] [smalldatetime] NOT NULL,
	[TRANGTHAIMUON] [nvarchar](150) NOT NULL,
	[MANV] [varchar](10) NULL,
 CONSTRAINT [PK_MUONTB] PRIMARY KEY CLUSTERED 
(
	[MAMUON] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[NHANVIEN]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[NHANVIEN](
	[MANV] [varchar](10) NOT NULL,
	[CHUCVU] [nvarchar](50) NOT NULL,
	[GIOITINH] [nvarchar](3) NOT NULL,
	[NAMSINH] [date] NOT NULL,
	[MATK] [varchar](10) NULL,
 CONSTRAINT [PK_NHANVIEN] PRIMARY KEY CLUSTERED 
(
	[MANV] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[SINHVIEN]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SINHVIEN](
	[MASV] [varchar](10) NOT NULL,
	[LOP] [varchar](11) NOT NULL,
	[MATK] [varchar](10) NULL,
 CONSTRAINT [PK_SINHVIEN] PRIMARY KEY CLUSTERED 
(
	[MASV] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TAIKHOAN]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TAIKHOAN](
	[MATK] [varchar](10) NOT NULL,
	[MATKHAU] [varchar](20) NOT NULL,
	[TENDANGNHAP] [varchar](100) NOT NULL,
	[LOAITK] [varchar](10) NULL,
 CONSTRAINT [PK_TAIKHOAN] PRIMARY KEY CLUSTERED 
(
	[MATK] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[THIETBI]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[THIETBI](
	[MATB] [varchar](10) NOT NULL,
	[TENTB] [nvarchar](150) NOT NULL,
	[MALOAI] [varchar](10) NOT NULL,
	[NGAYNHAPKHO] [smalldatetime] NOT NULL,
	[MOTA] [ntext] NULL,
	[TINHTRANGSD] [nvarchar](100) NOT NULL,
 CONSTRAINT [PK_THIETBI] PRIMARY KEY CLUSTERED 
(
	[MATB] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TKNHANVIEN]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TKNHANVIEN](
	[MATK] [varchar](10) NOT NULL,
	[MANV] [varchar](10) NOT NULL,
	[PHANQUYEN] [nvarchar](30) NOT NULL,
 CONSTRAINT [PK_TKNHANVIEN] PRIMARY KEY CLUSTERED 
(
	[MATK] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TKSINHVIEN]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TKSINHVIEN](
	[MATK] [varchar](10) NOT NULL,
	[MASV] [varchar](10) NOT NULL,
 CONSTRAINT [PK_TKSINHVIEN] PRIMARY KEY CLUSTERED 
(
	[MATK] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TRATB]    Script Date: 4/30/2021 7:55:08 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TRATB](
	[MATRA] [int] NOT NULL,
	[MAMUON] [int] NOT NULL,
 CONSTRAINT [PK_TRATB_1] PRIMARY KEY CLUSTERED 
(
	[MATRA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[LOAITB] ([MALOAI], [TENLOAI]) VALUES (N'LAP', N'Laptop')
GO
INSERT [dbo].[LOAITB] ([MALOAI], [TENLOAI]) VALUES (N'MIC', N'Micro')
GO
INSERT [dbo].[LOAITB] ([MALOAI], [TENLOAI]) VALUES (N'PRO', N'Máy chiếu')
GO
INSERT [dbo].[LOAITK] ([MALOAITK], [TENLOAITK]) VALUES (N'NV', N'Nhân Viên')
GO
INSERT [dbo].[LOAITK] ([MALOAITK], [TENLOAITK]) VALUES (N'QL', N'Quản Lí')
GO
INSERT [dbo].[LOAITK] ([MALOAITK], [TENLOAITK]) VALUES (N'SV', N'Sinh Viên')
GO
INSERT [dbo].[NHANVIEN] ([MANV], [CHUCVU], [GIOITINH], [NAMSINH], [MATK]) VALUES (N'NV01', N'NV', N'NAM', CAST(N'2000-11-11' AS Date), NULL)
GO
INSERT [dbo].[SINHVIEN] ([MASV], [LOP], [MATK]) VALUES (N'N18DCCN071', N'D18', N'TK01')
GO
INSERT [dbo].[TAIKHOAN] ([MATK], [MATKHAU], [TENDANGNHAP], [LOAITK]) VALUES (N'TK01', N'123', N'NANN', NULL)
GO
INSERT [dbo].[TAIKHOAN] ([MATK], [MATKHAU], [TENDANGNHAP], [LOAITK]) VALUES (N'TK02', N'123', N'LAN', NULL)
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'LAP-01', N'Asus Vivobook 2020', N'LAP', CAST(N'2011-10-13T09:27:00' AS SmallDateTime), N'Lap top văn phòng ', N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'LAP-02', N'Lenovo thinkpadT470s', N'LAP', CAST(N'2019-07-12T09:00:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'LAP-03', N'Laptop asus Vivobook s15', N'LAP', CAST(N'2021-04-21T14:05:00' AS SmallDateTime), N'Bộ Thông Tin cấp', N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-01', N'Mic không dây 01', N'MIC', CAST(N'2011-10-13T09:27:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-02', N'Micro không dây', N'MIC', CAST(N'2018-12-02T07:20:00' AS SmallDateTime), NULL, N'Hỏng')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-03', N'Mic không dây', N'MIC', CAST(N'2020-11-11T12:00:00' AS SmallDateTime), N'', N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-2A25', N'Micro phong hoc 2A25', N'MIC', CAST(N'2020-10-13T09:27:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-2A26', N'Micro phòng học 2A26', N'MIC', CAST(N'2018-12-12T08:45:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'MIC-2B31', N'Micro phòng học 2B31', N'MIC', CAST(N'2018-12-12T08:50:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'PRO-01', N'Máy chiếu Sony', N'PRO', CAST(N'2018-12-02T07:45:00' AS SmallDateTime), N'máy chiếu trợ giảng', N'Có sẵn')
GO
INSERT [dbo].[THIETBI] ([MATB], [TENTB], [MALOAI], [NGAYNHAPKHO], [MOTA], [TINHTRANGSD]) VALUES (N'PRO-2A25', N'Máy chiếu phòng học 2A25', N'PRO', CAST(N'2028-12-12T08:30:00' AS SmallDateTime), NULL, N'Có sẵn')
GO
INSERT [dbo].[TKNHANVIEN] ([MATK], [MANV], [PHANQUYEN]) VALUES (N'TK02', N'NV01', N'NHANVIEN')
GO
INSERT [dbo].[TKSINHVIEN] ([MATK], [MASV]) VALUES (N'TK01', N'N18DCCN071')
GO
ALTER TABLE [dbo].[CHITIETMUON]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETMUON_MUONTB] FOREIGN KEY([MAMUON])
REFERENCES [dbo].[MUONTB] ([MAMUON])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[CHITIETMUON] CHECK CONSTRAINT [FK_CHITIETMUON_MUONTB]
GO
ALTER TABLE [dbo].[CHITIETMUON]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETMUON_THIETBI] FOREIGN KEY([MATB])
REFERENCES [dbo].[THIETBI] ([MATB])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[CHITIETMUON] CHECK CONSTRAINT [FK_CHITIETMUON_THIETBI]
GO
ALTER TABLE [dbo].[CHITIETTRA]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETTRA_NHANVIEN] FOREIGN KEY([MANV])
REFERENCES [dbo].[NHANVIEN] ([MANV])
GO
ALTER TABLE [dbo].[CHITIETTRA] CHECK CONSTRAINT [FK_CHITIETTRA_NHANVIEN]
GO
ALTER TABLE [dbo].[CHITIETTRA]  WITH CHECK ADD  CONSTRAINT [FK_CHITIETTRA_TRATB] FOREIGN KEY([MATRA])
REFERENCES [dbo].[TRATB] ([MATRA])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[CHITIETTRA] CHECK CONSTRAINT [FK_CHITIETTRA_TRATB]
GO
ALTER TABLE [dbo].[MUONTB]  WITH CHECK ADD  CONSTRAINT [FK_MUONTB_NHANVIEN] FOREIGN KEY([MANV])
REFERENCES [dbo].[NHANVIEN] ([MANV])
GO
ALTER TABLE [dbo].[MUONTB] CHECK CONSTRAINT [FK_MUONTB_NHANVIEN]
GO
ALTER TABLE [dbo].[MUONTB]  WITH CHECK ADD  CONSTRAINT [FK_MUONTB_SINHVIEN1] FOREIGN KEY([MASV])
REFERENCES [dbo].[SINHVIEN] ([MASV])
GO
ALTER TABLE [dbo].[MUONTB] CHECK CONSTRAINT [FK_MUONTB_SINHVIEN1]
GO
ALTER TABLE [dbo].[NHANVIEN]  WITH CHECK ADD  CONSTRAINT [FK_NHANVIEN_TKNHANVIEN] FOREIGN KEY([MATK])
REFERENCES [dbo].[TKNHANVIEN] ([MATK])
GO
ALTER TABLE [dbo].[NHANVIEN] CHECK CONSTRAINT [FK_NHANVIEN_TKNHANVIEN]
GO
ALTER TABLE [dbo].[SINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_SINHVIEN_TKSINHVIEN] FOREIGN KEY([MATK])
REFERENCES [dbo].[TKSINHVIEN] ([MATK])
GO
ALTER TABLE [dbo].[SINHVIEN] CHECK CONSTRAINT [FK_SINHVIEN_TKSINHVIEN]
GO
ALTER TABLE [dbo].[THIETBI]  WITH CHECK ADD  CONSTRAINT [FK_THIETBI_LOAITB] FOREIGN KEY([MALOAI])
REFERENCES [dbo].[LOAITB] ([MALOAI])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[THIETBI] CHECK CONSTRAINT [FK_THIETBI_LOAITB]
GO
ALTER TABLE [dbo].[TKNHANVIEN]  WITH CHECK ADD  CONSTRAINT [FK_TKNHANVIEN_NHANVIEN] FOREIGN KEY([MANV])
REFERENCES [dbo].[NHANVIEN] ([MANV])
GO
ALTER TABLE [dbo].[TKNHANVIEN] CHECK CONSTRAINT [FK_TKNHANVIEN_NHANVIEN]
GO
ALTER TABLE [dbo].[TKNHANVIEN]  WITH CHECK ADD  CONSTRAINT [FK_TKNHANVIEN_TAIKHOAN] FOREIGN KEY([MATK])
REFERENCES [dbo].[TAIKHOAN] ([MATK])
GO
ALTER TABLE [dbo].[TKNHANVIEN] CHECK CONSTRAINT [FK_TKNHANVIEN_TAIKHOAN]
GO
ALTER TABLE [dbo].[TKSINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_TKSINHVIEN_SINHVIEN] FOREIGN KEY([MASV])
REFERENCES [dbo].[SINHVIEN] ([MASV])
GO
ALTER TABLE [dbo].[TKSINHVIEN] CHECK CONSTRAINT [FK_TKSINHVIEN_SINHVIEN]
GO
ALTER TABLE [dbo].[TKSINHVIEN]  WITH CHECK ADD  CONSTRAINT [FK_TKSINHVIEN_TAIKHOAN] FOREIGN KEY([MATK])
REFERENCES [dbo].[TAIKHOAN] ([MATK])
GO
ALTER TABLE [dbo].[TKSINHVIEN] CHECK CONSTRAINT [FK_TKSINHVIEN_TAIKHOAN]
GO
ALTER TABLE [dbo].[TRATB]  WITH CHECK ADD  CONSTRAINT [FK_TRATB_MUONTB] FOREIGN KEY([MAMUON])
REFERENCES [dbo].[MUONTB] ([MAMUON])
ON UPDATE CASCADE
GO
ALTER TABLE [dbo].[TRATB] CHECK CONSTRAINT [FK_TRATB_MUONTB]
GO
ALTER TABLE [dbo].[NHANVIEN]  WITH CHECK ADD  CONSTRAINT [CK_GIOITINH] CHECK  (([GIOITINH]=N'NAM' OR [GIOITINH]=N'NỮ'))
GO
ALTER TABLE [dbo].[NHANVIEN] CHECK CONSTRAINT [CK_GIOITINH]
GO
USE [master]
GO
ALTER DATABASE [QLMTB] SET  READ_WRITE 
GO
